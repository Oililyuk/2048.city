(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72006,e=>{e.v({buttonIcon:"Leaderboard-module__k7kcCq__buttonIcon",buttonText:"Leaderboard-module__k7kcCq__buttonText",callToAction:"Leaderboard-module__k7kcCq__callToAction",closeButton:"Leaderboard-module__k7kcCq__closeButton",community:"Leaderboard-module__k7kcCq__community",communityTitle:"Leaderboard-module__k7kcCq__communityTitle",content:"Leaderboard-module__k7kcCq__content",ctaContent:"Leaderboard-module__k7kcCq__ctaContent",ctaIcon:"Leaderboard-module__k7kcCq__ctaIcon",date:"Leaderboard-module__k7kcCq__date",empty:"Leaderboard-module__k7kcCq__empty",emptyIcon:"Leaderboard-module__k7kcCq__emptyIcon",entry:"Leaderboard-module__k7kcCq__entry",externalIcon:"Leaderboard-module__k7kcCq__externalIcon",fadeIn:"Leaderboard-module__k7kcCq__fadeIn",footer:"Leaderboard-module__k7kcCq__footer",header:"Leaderboard-module__k7kcCq__header",info:"Leaderboard-module__k7kcCq__info",inline:"Leaderboard-module__k7kcCq__inline",leaderboardButton:"Leaderboard-module__k7kcCq__leaderboardButton",list:"Leaderboard-module__k7kcCq__list",loading:"Leaderboard-module__k7kcCq__loading",maxTile:"Leaderboard-module__k7kcCq__maxTile",modal:"Leaderboard-module__k7kcCq__modal",overlay:"Leaderboard-module__k7kcCq__overlay",rank:"Leaderboard-module__k7kcCq__rank",redditIcon:"Leaderboard-module__k7kcCq__redditIcon",redditLink:"Leaderboard-module__k7kcCq__redditLink",score:"Leaderboard-module__k7kcCq__score",slideUp:"Leaderboard-module__k7kcCq__slideUp",stats:"Leaderboard-module__k7kcCq__stats",userName:"Leaderboard-module__k7kcCq__userName"})},59414,e=>{"use strict";var a=e.i(43476),s=e.i(71645),o=e.i(72006);function t({inline:e}){let[t,d]=(0,s.useState)(!1),[l,n]=(0,s.useState)([]),[r,c]=(0,s.useState)(!1),i=async()=>{c(!0);try{let e=await fetch("/api/scores/leaderboard");if(e.ok){let a=await e.json();n(a)}}catch(e){console.error("Failed to fetch leaderboard:",e)}finally{c(!1)}};return(0,s.useEffect)(()=>{t&&i()},[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{className:`${o.default.leaderboardButton} ${e?o.default.inline:""}`,onClick:()=>d(!0),"aria-label":"View Leaderboard",children:[(0,a.jsx)("span",{className:o.default.buttonIcon,children:"ðŸ†"}),(0,a.jsx)("span",{className:o.default.buttonText,children:"Leaderboard"})]}),t&&(0,a.jsx)("div",{className:o.default.overlay,onClick:()=>d(!1),children:(0,a.jsxs)("div",{className:o.default.modal,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:o.default.header,children:[(0,a.jsx)("h2",{children:"ðŸ† Leaderboard"}),(0,a.jsx)("button",{className:o.default.closeButton,onClick:()=>d(!1),"aria-label":"Close",children:"âœ•"})]}),(0,a.jsxs)("div",{className:o.default.content,children:[(0,a.jsxs)("div",{style:{marginBottom:16,color:"#4fd1c5",fontWeight:500,fontSize:"1.05rem"},children:[(0,a.jsx)("span",{children:"Top scores are ranked by highest tile and total points. Only logged-in users can submit scores. Daily challenges have their own leaderboard."}),(0,a.jsx)("br",{}),(0,a.jsxs)("span",{children:["See ",(0,a.jsx)("a",{href:"/faq",style:{color:"#0070f3"},children:"FAQ"})," for details."]})]}),r?(0,a.jsx)("div",{className:o.default.loading,children:"Loading..."}):0===l.length?(0,a.jsxs)("div",{className:o.default.empty,children:[(0,a.jsx)("div",{className:o.default.emptyIcon,children:"ðŸŽ®"}),(0,a.jsx)("h3",{children:"No Scores Yet"}),(0,a.jsx)("p",{children:"Be the first to claim your spot on the leaderboard!"})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:o.default.list,children:l.map((e,s)=>(0,a.jsxs)("div",{className:o.default.entry,children:[(0,a.jsxs)("div",{className:o.default.rank,children:[0===s&&"ðŸ¥‡",1===s&&"ðŸ¥ˆ",2===s&&"ðŸ¥‰",s>2&&`${s+1}`]}),(0,a.jsxs)("div",{className:o.default.info,children:[(0,a.jsx)("div",{className:o.default.userName,children:e.userName}),(0,a.jsxs)("div",{className:o.default.stats,children:[(0,a.jsxs)("span",{className:o.default.score,children:[e.score.toLocaleString()," pts"]}),(0,a.jsxs)("span",{className:o.default.maxTile,children:["Max: ",e.maxTile]})]})]}),(0,a.jsx)("div",{className:o.default.date,children:new Date(e.createdAt).toLocaleDateString("en-US")})]},e.id))})}),(0,a.jsxs)("div",{className:o.default.footer,children:[(0,a.jsxs)("div",{className:o.default.callToAction,children:[(0,a.jsx)("div",{className:o.default.ctaIcon,children:"ðŸŒŸ"}),(0,a.jsxs)("div",{className:o.default.ctaContent,children:[(0,a.jsx)("h4",{children:"Compete with Players Worldwide!"}),(0,a.jsx)("p",{children:"Sign in with Google to save your scores and climb the leaderboard. Your best score is automatically submitted when you finish a game."})]})]}),(0,a.jsxs)("div",{className:o.default.community,children:[(0,a.jsx)("p",{className:o.default.communityTitle,children:"Join Our Community"}),(0,a.jsxs)("a",{href:"https://www.reddit.com/r/2048city/comments/1pepcdo/my2048city/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button",target:"_blank",rel:"noopener noreferrer",className:o.default.redditLink,children:[(0,a.jsx)("span",{className:o.default.redditIcon,children:"ðŸŽ¯"}),(0,a.jsx)("span",{children:"Discuss strategies on Reddit"}),(0,a.jsx)("span",{className:o.default.externalIcon,children:"â†’"})]})]}),(0,a.jsx)("div",{style:{marginTop:16,color:"#888",fontSize:13},children:(0,a.jsxs)("span",{children:["Leaderboard is updated in real time. For privacy and rules, see ",(0,a.jsx)("a",{href:"/faq",style:{color:"#0070f3"},children:"FAQ"}),"."]})})]})]})]})})]})}function d({session:o,onScoreSubmit:d}){let l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{l.current&&(async()=>{let{Game2048:a}=await e.A(12561),s=new a;s.onGameEnd=async(e,a)=>{if(o?.user)try{let a=0;for(let e=0;e<s.size;e++)for(let o=0;o<s.size;o++){let t=s.grid[e][o];t&&t.value>a&&(a=t.value)}let o=await fetch("/api/scores/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({score:e,maxTile:a,moves:0,gameDuration:0})}),t=await o.json();o.ok||console.error("Score submission failed:",t)}catch(e){console.error("Failed to submit score:",e)}},window.game=s})()},[o]),(0,a.jsx)("div",{className:"game-root",children:(0,a.jsxs)("div",{className:"container",ref:l,children:[(0,a.jsxs)("div",{className:"heading",children:[(0,a.jsx)("h1",{children:"2048"}),(0,a.jsxs)("div",{className:"score-container",children:[(0,a.jsxs)("div",{className:"score-box",children:[(0,a.jsx)("div",{className:"score-label",children:"SCORE"}),(0,a.jsx)("div",{className:"score",id:"score",children:"0"})]}),(0,a.jsxs)("div",{className:"score-box",children:[(0,a.jsx)("div",{className:"score-label",children:"BEST"}),(0,a.jsx)("div",{className:"best-score",id:"best-score",children:"0"})]})]})]}),(0,a.jsxs)("div",{className:"game-container",children:[(0,a.jsx)("div",{className:"grid-container",children:[0,1,2,3].map(e=>(0,a.jsx)("div",{className:"grid-row",children:[0,1,2,3].map(e=>(0,a.jsx)("div",{className:"grid-cell"},e))},e))}),(0,a.jsx)("div",{className:"tile-container",id:"tile-container"}),(0,a.jsx)("div",{className:"game-message",id:"game-message"})]}),(0,a.jsxs)("div",{className:"controls",children:[(0,a.jsx)("button",{className:"btn-new",onClick:()=>{window.game&&window.game.restart()},children:"New Game"}),(0,a.jsx)("button",{className:"btn-undo",id:"undo-btn",onClick:()=>{window.game&&window.game.undo()},children:"Undo"}),(0,a.jsx)(t,{inline:!0})]})]})})}e.s(["default",()=>d],59414)},18828,e=>{e.v({avatar:"LoginButton-module__0q7ZTa__avatar",button:"LoginButton-module__0q7ZTa__button",googleIcon:"LoginButton-module__0q7ZTa__googleIcon",name:"LoginButton-module__0q7ZTa__name",userInfo:"LoginButton-module__0q7ZTa__userInfo"})},41251,e=>{"use strict";var a=e.i(43476),s=e.i(26732),o=e.i(18828);function t(){let{data:e,status:t}=(0,s.useSession)();return"loading"===t?(0,a.jsx)("div",{className:o.default.button,children:"Loading..."}):e?(0,a.jsxs)("div",{className:o.default.userInfo,children:[(0,a.jsx)("img",{src:e.user?.image||"/default-avatar.png",alt:e.user?.name||"User",className:o.default.avatar}),(0,a.jsx)("span",{className:o.default.name,children:e.user?.name}),(0,a.jsx)("button",{onClick:()=>(0,s.signOut)(),className:o.default.button,children:"Sign Out"})]}):(0,a.jsxs)("button",{onClick:()=>(0,s.signIn)("google"),className:o.default.button,children:[(0,a.jsxs)("svg",{className:o.default.googleIcon,viewBox:"0 0 24 24",width:"20",height:"20",children:[(0,a.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}e.s(["default",()=>t])},3104,e=>{e.v({banner:"CookieConsent-module__ORNcuG__banner",button:"CookieConsent-module__ORNcuG__button",content:"CookieConsent-module__ORNcuG__content",text:"CookieConsent-module__ORNcuG__text"})},22097,e=>{"use strict";var a=e.i(43476),s=e.i(71645),o=e.i(3104);function t(){let[e,t]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{localStorage.getItem("cookieConsent")||t(!0)},[]),e)?(0,a.jsx)("div",{className:o.default.banner,children:(0,a.jsxs)("div",{className:o.default.content,children:[(0,a.jsx)("p",{className:o.default.text,children:"We use cookies to enhance your gaming experience and analyze site traffic. By continuing to use this site, you consent to our use of cookies."}),(0,a.jsx)("button",{onClick:()=>{localStorage.setItem("cookieConsent","true"),t(!1)},className:o.default.button,children:"Accept"})]})}):null}e.s(["default",()=>t])},12561,e=>{e.v(a=>Promise.all(["static/chunks/717a4466a973b38f.js"].map(a=>e.l(a))).then(()=>a(68978)))}]);
{"version":3,"sources":["turbopack:///[project]/src/components/Toast/Toast.module.css [app-ssr] (css module)","../../../../src/app/feedback/page.tsx","../../../../src/components/Toast/Toast.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"closeBtn\": \"Toast-module__UKUNqG__closeBtn\",\n  \"error\": \"Toast-module__UKUNqG__error\",\n  \"message\": \"Toast-module__UKUNqG__message\",\n  \"show\": \"Toast-module__UKUNqG__show\",\n  \"success\": \"Toast-module__UKUNqG__success\",\n  \"toast\": \"Toast-module__UKUNqG__toast\",\n  \"toastRoot\": \"Toast-module__UKUNqG__toastRoot\",\n});\n","\"use client\";\nimport { useState, useEffect, ChangeEvent, FormEvent } from 'react';\nimport ToastContainer, { ToastItem } from '@/components/Toast/Toast';\n\nconst glass = {\n  background: 'rgba(255,255,255,0.12)',\n  backdropFilter: 'blur(12px) saturate(180%)',\n  WebkitBackdropFilter: 'blur(12px) saturate(180%)',\n  border: '1px solid rgba(255,255,255,0.18)',\n  borderRadius: 12,\n  boxShadow: '0 2px 16px rgba(0,0,0,0.18)',\n};\n\nexport default function FeedbackPage() {\n  const [comments, setComments] = useState<Array<{id: string; content: string; user: string; createdAt: string}>>([]);\n  const [form, setForm] = useState({ content: '' });\n  const [loading, setLoading] = useState(false);\n  const [toasts, setToasts] = useState<ToastItem[]>([]);\n\n  const addToast = (message: string, type: ToastItem['type'] = 'info', duration = 4000) => {\n    const t: ToastItem = { id: String(Date.now()) + Math.random().toString(36).slice(2), message, type, duration };\n    setToasts((s) => [t, ...s]);\n    return t.id;\n  };\n\n  const removeToast = (id: string) => setToasts((s) => s.filter((t) => t.id !== id));\n\n  async function fetchComments() {\n    const res = await fetch('/api/feedback');\n    const data = await res.json();\n    setComments(data);\n  }\n\n  useEffect(() => {\n    fetchComments();\n  }, []);\n\n  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    setForm({ content: e.target.value });\n  };\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!form.content.trim()) return;\n    setLoading(true);\n    try {\n      const res = await fetch('/api/feedback', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ content: form.content }),\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({ error: 'Unknown error' }));\n        addToast('Failed to submit: ' + (err.error || res.statusText), 'error');\n      } else {\n        // optimistic fetch update\n        const created = await res.json();\n        setComments(prev => [created, ...prev]);\n        setForm({ content: '' });\n        addToast('Feedback submitted — thanks!', 'success');\n      }\n    } catch (error) {\n      console.error('Submit error', error);\n      addToast('Failed to submit feedback. Please try again.', 'error');\n    } finally {\n      setLoading(false);\n    }\n    // ensure list refreshed from server\n    fetchComments();\n  };\n\n  return (\n    <main style={{ maxWidth: 600, margin: '0 auto', padding: '2rem 1rem' }}>\n      <h1 style={{ fontSize: 28, fontWeight: 700, color: '#fff', textShadow: '0 2px 10px rgba(0,0,0,0.3)', marginBottom: 8 }}>Feedback</h1>\n      <p style={{ color: '#fff', fontSize: 16, marginBottom: 18 }}>Share your thoughts, suggestions, or bug reports. Comments are public and support discussion!</p>\n      <form onSubmit={handleSubmit} style={{ ...glass, display: 'flex', flexDirection: 'column', gap: '1rem', marginTop: '2rem', padding: '1.2rem' }}>\n        <label style={{ color: '#fff', fontWeight: 500 }}>\n          Comment (required)\n          <textarea name=\"content\" rows={4} required value={form.content} onChange={handleChange} style={{ width: '100%', padding: '0.5rem', marginTop: 4, ...glass, color: '#fff', fontSize: 15, resize: 'vertical', minHeight: 60, outline: 'none' }} />\n        </label>\n        <button type=\"submit\" style={{ ...glass, padding: '0.75rem 2rem', fontWeight: 600, color: '#fff', fontSize: 16, cursor: 'pointer', border: 'none', transition: 'background 0.2s, box-shadow 0.2s' }} disabled={loading}>{loading ? 'Submitting...' : 'Submit'}</button>\n      </form>\n      <section style={{ marginTop: 32 }}>\n        <h2 style={{ fontSize: '1.1rem', color: '#4fd1c5', marginBottom: 12 }}>Comments</h2>\n        {comments.length === 0 ? (\n          <p style={{ color: '#ccc' }}>No comments yet. Be the first to share!</p>\n        ) : (\n          <ul style={{ listStyle: 'none', padding: 0 }}>\n            {comments.map((c) => (\n              <li key={c.id} style={{ ...glass, marginBottom: 16, padding: '1em', color: '#fff', position: 'relative' }}>\n                <div style={{ fontWeight: 600, marginBottom: 4, color: '#fff' }}>{c.user} <span style={{ fontWeight: 400, fontSize: 12, color: '#aaa' }}>{new Date(c.createdAt).toLocaleString()}</span></div>\n                <div style={{ color: '#fff', fontSize: 15, wordBreak: 'break-word' }}>{c.content}</div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </section>\n      <ToastContainer toasts={toasts} onRemove={removeToast} />\n    </main>\n  );\n}\n","\"use client\";\nimport React, { useEffect } from 'react';\nimport styles from './Toast.module.css';\n\nexport type ToastType = 'success' | 'error' | 'info';\nexport interface ToastItem {\n  id: string;\n  message: string;\n  type?: ToastType;\n  duration?: number;\n}\n\nexport default function ToastContainer({ toasts, onRemove }: { toasts: ToastItem[]; onRemove: (id: string) => void; }) {\n  useEffect(() => {\n    toasts.forEach((t) => {\n      if (!t.duration) return;\n      const timer = setTimeout(() => onRemove(t.id), t.duration);\n      return () => clearTimeout(timer);\n    });\n  }, [toasts, onRemove]);\n\n  return (\n    <div className={styles.toastRoot} aria-live=\"polite\">\n      {toasts.map((t) => (\n        <div key={t.id} className={`${styles.toast} ${styles.show} ${t.type === 'error' ? styles.error : t.type === 'success' ? styles.success : ''}`}>\n          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n            <div className={styles.message}>{t.message}</div>\n            <button aria-label=\"Close\" className={styles.closeBtn} onClick={() => onRemove(t.id)}>×</button>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}